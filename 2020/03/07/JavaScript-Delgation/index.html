<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/favicon.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Q: What is Event Delegation? A: A way you can add an event listener once for multiple elements with support for adding extra children.">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript Delegation">
<meta property="og:url" content="http://yoursite.com/2020/03/07/JavaScript-Delgation/index.html">
<meta property="og:site_name" content="Fanfan&#39;s Blog">
<meta property="og:description" content="Q: What is Event Delegation? A: A way you can add an event listener once for multiple elements with support for adding extra children.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.ibb.co/THqhNS7/delegation-demo.jpg">
<meta property="article:published_time" content="2020-03-06T23:15:12.000Z">
<meta property="article:modified_time" content="2020-03-08T19:52:49.124Z">
<meta property="article:author" content="Shan Mi">
<meta property="article:tag" content="JS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.ibb.co/THqhNS7/delegation-demo.jpg">

<link rel="canonical" href="http://yoursite.com/2020/03/07/JavaScript-Delgation/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>JavaScript Delegation | Fanfan's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Fanfan's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Better than ever</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/07/JavaScript-Delgation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Shan Mi">
      <meta itemprop="description" content="You will never know">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fanfan's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JavaScript Delegation
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-07 00:15:12" itemprop="dateCreated datePublished" datetime="2020-03-07T00:15:12+01:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-08 20:52:49" itemprop="dateModified" datetime="2020-03-08T20:52:49+01:00">2020-03-08</time>
              </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/03/07/JavaScript-Delgation/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/03/07/JavaScript-Delgation/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><strong>Q</strong>: What is Event Delegation?</p>
<p><strong>A</strong>: A way you can add an event listener once for multiple elements with support for adding extra children.</p>
<a id="more"></a>

<p><em>ZZ</em> <a href="https://www.cnblogs.com/liugang-vip/p/5616484.html" target="_blank" rel="noopener">original</a></p>
<p>1ã€è¿™æ˜¯<strong>å‰ç«¯é¢è¯•</strong>çš„ç»å…¸é¢˜å‹ï¼Œè¦å»æ‰¾å·¥ä½œçš„å°ä¼™ä¼´çœ‹çœ‹è¿˜æ˜¯æœ‰å¸®åŠ©çš„ï¼›</p>
<p>2ã€å…¶å®æˆ‘ä¸€ç›´éƒ½æ²¡å¼„æ˜ç™½ï¼Œå†™è¿™ä¸ªä¸€æ˜¯ä¸ºäº†å¤‡å¿˜ï¼ŒäºŒæ˜¯ç»™å…¶ä»–çš„çŸ¥å…¶ç„¶ä¸çŸ¥å…¶æ‰€ä»¥ç„¶çš„å°ä¼™ä¼´ä»¬ä»¥å‚è€ƒï¼›</p>
<h3 id="æ¦‚è¿°ï¼š"><a href="#æ¦‚è¿°ï¼š" class="headerlink" title="æ¦‚è¿°ï¼š"></a>æ¦‚è¿°ï¼š</h3><p>é‚£ä»€ä¹ˆå«<strong>äº‹ä»¶å§”æ‰˜</strong>å‘¢ï¼Ÿå®ƒè¿˜æœ‰ä¸€ä¸ªåå­—å«<strong>äº‹ä»¶ä»£ç†</strong>ï¼ŒJavaScript é«˜çº§ç¨‹åºè®¾è®¡ä¸Šè®²ï¼šäº‹ä»¶å§”æ‰˜å°±æ˜¯åˆ©ç”¨äº‹ä»¶<strong>å†’æ³¡</strong>ï¼ŒåªæŒ‡å®šä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼Œå°±å¯ä»¥ç®¡ç†æŸä¸€ç±»å‹çš„æ‰€æœ‰äº‹ä»¶ã€‚é‚£è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿç½‘ä¸Šçš„å„ä½å¤§ç‰›ä»¬è®²äº‹ä»¶å§”æ‰˜åŸºæœ¬ä¸Šéƒ½ç”¨äº†åŒä¸€ä¸ªä¾‹å­ï¼Œå°±æ˜¯å–å¿«é€’æ¥è§£é‡Šè¿™ä¸ªç°è±¡ï¼Œæˆ‘ä»”ç»†æ£æ‘©äº†ä¸€ä¸‹ï¼Œè¿™ä¸ªä¾‹å­è¿˜çœŸæ˜¯æ°å½“ï¼Œæˆ‘å°±ä¸å»æƒ³åˆ«çš„ä¾‹å­æ¥è§£é‡Šäº†ï¼Œå€ŸèŠ±çŒ®ä½›ï¼Œæˆ‘æ‘˜è¿‡æ¥ï¼Œå¤§å®¶è®¤çœŸé¢†ä¼šä¸€ä¸‹äº‹ä»¶å§”æ‰˜åˆ°åº•æ˜¯ä¸€ä¸ªä»€ä¹ˆåŸç†ï¼š</p>
<p>æœ‰ä¸‰ä¸ªåŒäº‹é¢„è®¡ä¼šåœ¨å‘¨ä¸€æ”¶åˆ°å¿«é€’ã€‚ä¸ºç­¾æ”¶å¿«é€’ï¼Œæœ‰ä¸¤ç§åŠæ³•ï¼šä¸€æ˜¯ä¸‰ä¸ªäººåœ¨å…¬å¸é—¨å£ç­‰å¿«é€’ï¼›äºŒæ˜¯å§”æ‰˜ç»™å‰å° MM ä»£ä¸ºç­¾æ”¶ã€‚ç°å®å½“ä¸­ï¼Œæˆ‘ä»¬å¤§éƒ½é‡‡ç”¨å§”æ‰˜çš„æ–¹æ¡ˆï¼ˆå…¬å¸ä¹Ÿä¸ä¼šå®¹å¿é‚£ä¹ˆå¤šå‘˜å·¥ç«™åœ¨é—¨å£å°±ä¸ºäº†ç­‰å¿«é€’ï¼‰ã€‚å‰å° MM æ”¶åˆ°å¿«é€’åï¼Œå¥¹ä¼šåˆ¤æ–­æ”¶ä»¶äººæ˜¯è°ï¼Œç„¶åæŒ‰ç…§æ”¶ä»¶äººçš„è¦æ±‚ç­¾æ”¶ï¼Œç”šè‡³ä»£ä¸ºä»˜æ¬¾ã€‚è¿™ç§æ–¹æ¡ˆè¿˜æœ‰ä¸€ä¸ªä¼˜åŠ¿ï¼Œé‚£å°±æ˜¯å³ä½¿å…¬å¸é‡Œæ¥äº†æ–°å‘˜å·¥ï¼ˆä¸ç®¡å¤šå°‘ï¼‰ï¼Œå‰å° MM ä¹Ÿä¼šåœ¨æ”¶åˆ°å¯„ç»™æ–°å‘˜å·¥çš„å¿«é€’åæ ¸å®å¹¶ä»£ä¸ºç­¾æ”¶ã€‚</p>
<p>è¿™é‡Œå…¶å®è¿˜æœ‰ 2 å±‚æ„æ€çš„ï¼š</p>
<p>ç¬¬ä¸€ï¼Œç°åœ¨å§”æ‰˜å‰å°çš„åŒäº‹æ˜¯å¯ä»¥ä»£ä¸ºç­¾æ”¶çš„ï¼Œå³ç¨‹åºä¸­çš„ç°æœ‰çš„ dom èŠ‚ç‚¹æ˜¯æœ‰äº‹ä»¶çš„ï¼›</p>
<p>ç¬¬äºŒï¼Œæ–°å‘˜å·¥ä¹Ÿæ˜¯å¯ä»¥è¢«å‰å° MM ä»£ä¸ºç­¾æ”¶çš„ï¼Œå³ç¨‹åºä¸­æ–°æ·»åŠ çš„ dom èŠ‚ç‚¹ä¹Ÿæ˜¯æœ‰äº‹ä»¶çš„ã€‚</p>
<h4 id="ä¸ºä»€ä¹ˆè¦ç”¨äº‹ä»¶å§”æ‰˜ï¼š"><a href="#ä¸ºä»€ä¹ˆè¦ç”¨äº‹ä»¶å§”æ‰˜ï¼š" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç”¨äº‹ä»¶å§”æ‰˜ï¼š"></a>ä¸ºä»€ä¹ˆè¦ç”¨äº‹ä»¶å§”æ‰˜ï¼š</h4><p>ä¸€èˆ¬æ¥è¯´ï¼Œdom éœ€è¦æœ‰äº‹ä»¶å¤„ç†ç¨‹åºï¼Œæˆ‘ä»¬éƒ½ä¼šç›´æ¥ç»™å®ƒè®¾äº‹ä»¶å¤„ç†ç¨‹åºå°±å¥½äº†ï¼Œé‚£å¦‚æœæ˜¯å¾ˆå¤šçš„ dom éœ€è¦æ·»åŠ äº‹ä»¶å¤„ç†å‘¢ï¼Ÿæ¯”å¦‚æˆ‘ä»¬æœ‰ 100 ä¸ª liï¼Œæ¯ä¸ª li éƒ½æœ‰ç›¸åŒçš„ click ç‚¹å‡»äº‹ä»¶ï¼Œå¯èƒ½æˆ‘ä»¬ä¼šç”¨ for å¾ªç¯çš„æ–¹æ³•ï¼Œæ¥éå†æ‰€æœ‰çš„ liï¼Œç„¶åç»™å®ƒä»¬æ·»åŠ äº‹ä»¶ï¼Œé‚£è¿™ä¹ˆåšä¼šå­˜åœ¨ä»€ä¹ˆå½±å“å‘¢ï¼Ÿ</p>
<p>åœ¨ JavaScript ä¸­ï¼Œæ·»åŠ åˆ°é¡µé¢ä¸Šçš„äº‹ä»¶å¤„ç†ç¨‹åºæ•°é‡å°†ç›´æ¥å…³ç³»åˆ°é¡µé¢çš„æ•´ä½“è¿è¡Œæ€§èƒ½ï¼Œå› ä¸ºéœ€è¦ä¸æ–­çš„ä¸ dom èŠ‚ç‚¹è¿›è¡Œäº¤äº’ï¼Œè®¿é—® dom çš„æ¬¡æ•°è¶Šå¤šï¼Œå¼•èµ·æµè§ˆå™¨é‡ç»˜ä¸é‡æ’çš„æ¬¡æ•°ä¹Ÿå°±è¶Šå¤šï¼Œå°±ä¼šå»¶é•¿æ•´ä¸ªé¡µé¢çš„äº¤äº’å°±ç»ªæ—¶é—´ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ€§èƒ½ä¼˜åŒ–çš„ä¸»è¦æ€æƒ³ä¹‹ä¸€å°±æ˜¯å‡å°‘ DOM æ“ä½œçš„åŸå› ï¼›å¦‚æœè¦ç”¨<strong>äº‹ä»¶å§”æ‰˜</strong>ï¼Œå°±ä¼šå°†æ‰€æœ‰çš„æ“ä½œæ”¾åˆ° js ç¨‹åºé‡Œé¢ï¼Œä¸ dom çš„æ“ä½œå°±åªéœ€è¦äº¤äº’ä¸€æ¬¡ï¼Œè¿™æ ·å°±èƒ½å¤§å¤§çš„å‡å°‘ä¸ dom çš„äº¤äº’æ¬¡æ•°ï¼Œ<strong>æé«˜æ€§èƒ½</strong>ï¼›</p>
<p>æ¯ä¸ªå‡½æ•°éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯å¯¹è±¡å°±ä¼šå ç”¨å†…å­˜ï¼Œå¯¹è±¡è¶Šå¤šï¼Œå†…å­˜å ç”¨ç‡å°±è¶Šå¤§ï¼Œè‡ªç„¶æ€§èƒ½å°±è¶Šå·®äº†ï¼ˆå†…å­˜ä¸å¤Ÿç”¨ï¼Œæ˜¯ç¡¬ä¼¤ï¼Œå“ˆå“ˆï¼‰ï¼Œæ¯”å¦‚ä¸Šé¢çš„ 100 ä¸ª liï¼Œå°±è¦å ç”¨ 100 ä¸ªå†…å­˜ç©ºé—´ï¼Œå¦‚æœæ˜¯ 1000 ä¸ªï¼Œ10000 ä¸ªå‘¢ï¼Œé‚£åªèƒ½è¯´å‘µå‘µäº†ï¼Œå¦‚æœç”¨äº‹ä»¶å§”æ‰˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥<strong>åªå¯¹å®ƒçš„çˆ¶çº§</strong>ï¼ˆå¦‚æœåªæœ‰ä¸€ä¸ªçˆ¶çº§ï¼‰è¿™ä¸€ä¸ªå¯¹è±¡<strong>è¿›è¡Œæ“ä½œ</strong>ï¼Œè¿™æ ·æˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªå†…å­˜ç©ºé—´å°±å¤Ÿäº†ï¼Œæ˜¯ä¸æ˜¯çœäº†å¾ˆå¤šï¼Œè‡ªç„¶æ€§èƒ½å°±ä¼šæ›´å¥½ã€‚</p>
<h4 id="äº‹ä»¶å§”æ‰˜çš„åŸç†ï¼š"><a href="#äº‹ä»¶å§”æ‰˜çš„åŸç†ï¼š" class="headerlink" title="äº‹ä»¶å§”æ‰˜çš„åŸç†ï¼š"></a>äº‹ä»¶å§”æ‰˜çš„åŸç†ï¼š</h4><p>äº‹ä»¶å§”æ‰˜æ˜¯åˆ©ç”¨äº‹ä»¶çš„å†’æ³¡åŸç†æ¥å®ç°çš„ï¼Œä½•ä¸ºäº‹ä»¶å†’æ³¡å‘¢ï¼Ÿå°±æ˜¯äº‹ä»¶ä»<strong>æœ€æ·±çš„èŠ‚ç‚¹</strong>å¼€å§‹ï¼Œç„¶åé€æ­¥<strong>å‘ä¸Š</strong>ä¼ æ’­äº‹ä»¶ï¼Œä¸¾ä¸ªä¾‹å­ï¼šé¡µé¢ä¸Šæœ‰è¿™ä¹ˆä¸€ä¸ªèŠ‚ç‚¹æ ‘ï¼Œdiv&gt;ul&gt;li&gt;a;æ¯”å¦‚ç»™æœ€é‡Œé¢çš„ a åŠ ä¸€ä¸ª click ç‚¹å‡»äº‹ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªäº‹ä»¶å°±ä¼šä¸€å±‚ä¸€å±‚çš„å¾€å¤–æ‰§è¡Œï¼Œæ‰§è¡Œé¡ºåº a&gt;li&gt;ul&gt;divï¼Œæœ‰è¿™æ ·ä¸€ä¸ªæœºåˆ¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç»™æœ€å¤–é¢çš„ div åŠ ç‚¹å‡»äº‹ä»¶ï¼Œé‚£ä¹ˆé‡Œé¢çš„ ulï¼Œliï¼Œa åšç‚¹å‡»äº‹ä»¶çš„æ—¶å€™ï¼Œéƒ½ä¼šå†’æ³¡åˆ°æœ€å¤–å±‚çš„ div ä¸Šï¼Œæ‰€ä»¥éƒ½ä¼šè§¦å‘ï¼Œè¿™å°±æ˜¯äº‹ä»¶å§”æ‰˜ï¼Œå§”æ‰˜å®ƒä»¬çˆ¶çº§ä»£ä¸ºæ‰§è¡Œäº‹ä»¶ã€‚</p>
<p>&lt;â€“<em>new citat begins</em>â€“&gt;</p>
<h4 id="äº‹ä»¶å†’æ³¡åŠæ•è·"><a href="#äº‹ä»¶å†’æ³¡åŠæ•è·" class="headerlink" title="äº‹ä»¶å†’æ³¡åŠæ•è·:"></a>äº‹ä»¶å†’æ³¡åŠæ•è·:</h4><p><em><a href="https://www.cnblogs.com/owenchen/archive/2013/02/18/2915521.html" target="_blank" rel="noopener">Original</a></em></p>
<p>ä¹‹å‰çš„ä»‹ç»ä¸­å·²ç»è¯´åˆ°äº†æµè§ˆå™¨çš„äº‹ä»¶å†’æ³¡æœºåˆ¶ã€‚è¿™é‡Œå†è¯¦ç»†ä»‹ç»ä¸€ä¸‹æµè§ˆå™¨å¤„ç†DOMäº‹ä»¶çš„è¿‡ç¨‹ã€‚å¯¹äºäº‹ä»¶çš„æ•è·å’Œå¤„ç†ï¼Œä¸åŒçš„æµè§ˆå™¨å‚å•†æœ‰ä¸åŒçš„å¤„ç†æœºåˆ¶ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸»è¦ä»‹ç»W3Cå¯¹DOM2.0å®šä¹‰çš„æ ‡å‡†äº‹ä»¶ã€‚</p>
<p>DOM2.0æ¨¡å‹å°†äº‹ä»¶å¤„ç†æµç¨‹åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼šä¸€ã€äº‹ä»¶æ•è·é˜¶æ®µï¼ŒäºŒã€äº‹ä»¶ç›®æ ‡é˜¶æ®µï¼Œä¸‰ã€äº‹ä»¶èµ·æ³¡é˜¶æ®µã€‚å¦‚å›¾ï¼š</p>
<img src="https://i.ibb.co/THqhNS7/delegation-demo.jpg" alt="delegation-demo" border="0">

<p><strong>äº‹ä»¶æ•è·</strong>ï¼šå½“æŸä¸ªå…ƒç´ è§¦å‘æŸä¸ªäº‹ä»¶ï¼ˆå¦‚<code>onclick</code>ï¼‰ï¼Œé¡¶å±‚å¯¹è±¡documentå°±ä¼šå‘å‡ºä¸€ä¸ªäº‹ä»¶æµï¼Œéšç€DOMæ ‘çš„èŠ‚ç‚¹å‘ç›®æ ‡å…ƒç´ èŠ‚ç‚¹æµå»ï¼Œç›´åˆ°åˆ°è¾¾äº‹ä»¶çœŸæ­£å‘ç”Ÿçš„ç›®æ ‡å…ƒç´ ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œäº‹ä»¶ç›¸åº”çš„ç›‘å¬å‡½æ•°æ˜¯ä¸ä¼šè¢«è§¦å‘çš„ã€‚</p>
<p><strong>äº‹ä»¶ç›®æ ‡</strong>ï¼šå½“åˆ°è¾¾ç›®æ ‡å…ƒç´ ä¹‹åï¼Œæ‰§è¡Œç›®æ ‡å…ƒç´ è¯¥äº‹ä»¶ç›¸åº”çš„å¤„ç†å‡½æ•°ã€‚å¦‚æœæ²¡æœ‰ç»‘å®šç›‘å¬å‡½æ•°ï¼Œé‚£å°±ä¸æ‰§è¡Œã€‚</p>
<p><strong>äº‹ä»¶èµ·æ³¡</strong>ï¼šä»ç›®æ ‡å…ƒç´ å¼€å§‹ï¼Œå¾€é¡¶å±‚å…ƒç´ ä¼ æ’­ã€‚é€”ä¸­å¦‚æœæœ‰èŠ‚ç‚¹ç»‘å®šäº†ç›¸åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™äº›å‡½æ•°éƒ½ä¼šè¢«ä¸€æ¬¡è§¦å‘ã€‚å¦‚æœæƒ³é˜»æ­¢äº‹ä»¶èµ·æ³¡ï¼Œå¯ä»¥ä½¿ç”¨<code>e.stopPropagation()</code>ï¼ˆFirefoxï¼‰æˆ–è€…<code>e.cancelBubble=true</code>ï¼ˆIEï¼‰æ¥ç»„ç»‡äº‹ä»¶çš„å†’æ³¡ä¼ æ’­ã€‚</p>
<p>&lt;â€“<em>new citat ends</em>â€“&gt;</p>
<h4 id="äº‹ä»¶å§”æ‰˜æ€ä¹ˆå®ç°ï¼š"><a href="#äº‹ä»¶å§”æ‰˜æ€ä¹ˆå®ç°ï¼š" class="headerlink" title="äº‹ä»¶å§”æ‰˜æ€ä¹ˆå®ç°ï¼š"></a>äº‹ä»¶å§”æ‰˜æ€ä¹ˆå®ç°ï¼š</h4><p>ç»ˆäºåˆ°äº†æœ¬æ–‡çš„æ ¸å¿ƒéƒ¨åˆ†äº†ï¼Œå“ˆå“ˆï¼Œåœ¨ä»‹ç»äº‹ä»¶å§”æ‰˜çš„æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€æ®µä¸€èˆ¬æ–¹æ³•çš„ä¾‹å­ï¼š</p>
<p>å­èŠ‚ç‚¹å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ul1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>111<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>222<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>333<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>444<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å®ç°åŠŸèƒ½æ˜¯ç‚¹å‡»liï¼Œå¼¹å‡º123ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(<span class="string">"ul1"</span>);</span><br><span class="line">  <span class="keyword">var</span> aLi = oUl.getElementsByTagName(<span class="string">'li'</span>);</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;aLi.length;i++)&#123;</span><br><span class="line">    aLi[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">    alert(<span class="number">123</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç çš„æ„æ€å¾ˆç®€å•ï¼Œç›¸ä¿¡å¾ˆå¤šäººéƒ½æ˜¯è¿™ä¹ˆå®ç°çš„ï¼Œæˆ‘ä»¬çœ‹çœ‹æœ‰å¤šå°‘æ¬¡çš„ dom æ“ä½œï¼Œé¦–å…ˆè¦æ‰¾åˆ° ulï¼Œç„¶åéå† liï¼Œç„¶åç‚¹å‡» li çš„æ—¶å€™ï¼Œåˆè¦æ‰¾ä¸€æ¬¡ç›®æ ‡çš„ li çš„ä½ç½®ï¼Œæ‰èƒ½æ‰§è¡Œæœ€åçš„æ“ä½œï¼Œæ¯æ¬¡ç‚¹å‡»éƒ½è¦æ‰¾ä¸€æ¬¡ liï¼›</p>
<p>é‚£ä¹ˆæˆ‘ä»¬ç”¨äº‹ä»¶å§”æ‰˜çš„æ–¹å¼åšåˆä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(<span class="string">"ul1"</span>);</span><br><span class="line">  oUl.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="number">123</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œç”¨çˆ¶çº§ ul åšäº‹ä»¶å¤„ç†ï¼Œå½“ li è¢«ç‚¹å‡»æ—¶ï¼Œç”±äºå†’æ³¡åŸç†ï¼Œäº‹ä»¶å°±ä¼šå†’æ³¡åˆ° ul ä¸Šï¼Œå› ä¸º ul ä¸Šæœ‰ç‚¹å‡»äº‹ä»¶ï¼Œæ‰€ä»¥äº‹ä»¶å°±ä¼šè§¦å‘ï¼Œå½“ç„¶ï¼Œè¿™é‡Œå½“ç‚¹å‡» ul çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯ä¼šè§¦å‘çš„ï¼Œé‚£ä¹ˆé—®é¢˜å°±æ¥äº†ï¼Œå¦‚æœæˆ‘æƒ³è®©äº‹ä»¶ä»£ç†çš„æ•ˆæœè·Ÿç›´æ¥ç»™èŠ‚ç‚¹çš„äº‹ä»¶æ•ˆæœä¸€æ ·æ€ä¹ˆåŠï¼Œæ¯”å¦‚è¯´åªæœ‰ç‚¹å‡» li æ‰ä¼šè§¦å‘ï¼Œä¸æ€•ï¼Œæˆ‘ä»¬æœ‰ç»æ‹›ï¼š</p>
<p><code>Event</code> å¯¹è±¡æä¾›äº†ä¸€ä¸ªå±æ€§å« <code>target</code>ï¼Œå¯ä»¥è¿”å›äº‹ä»¶çš„ç›®æ ‡èŠ‚ç‚¹ï¼Œæˆ‘ä»¬æˆä¸ºäº‹ä»¶æºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>target</code> å°±å¯ä»¥è¡¨ç¤ºä¸ºå½“å‰çš„äº‹ä»¶æ“ä½œçš„ domï¼Œä½†æ˜¯ä¸æ˜¯çœŸæ­£æ“ä½œ domï¼Œå½“ç„¶ï¼Œè¿™ä¸ªæ˜¯æœ‰å…¼å®¹æ€§çš„ï¼Œæ ‡å‡†æµè§ˆå™¨ç”¨ <code>ev.target</code>ï¼ŒIE æµè§ˆå™¨ç”¨ <code>event.srcElement</code>ï¼Œæ­¤æ—¶åªæ˜¯è·å–äº†å½“å‰èŠ‚ç‚¹çš„ä½ç½®ï¼Œå¹¶ä¸çŸ¥é“æ˜¯ä»€ä¹ˆèŠ‚ç‚¹åç§°ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ nodeName æ¥è·å–å…·ä½“æ˜¯ä»€ä¹ˆæ ‡ç­¾åï¼Œè¿™ä¸ªè¿”å›çš„æ˜¯ä¸€ä¸ªå¤§å†™çš„ï¼Œæˆ‘ä»¬éœ€è¦è½¬æˆå°å†™å†åšæ¯”è¾ƒï¼ˆä¹ æƒ¯é—®é¢˜ï¼‰ï¼š</p>
<h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h3><p><em>I think we can use <code>target.matches(&quot;li&quot;)</code> here to check if we click li-element and then implement the cb. It seems easy and effecient.</em></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">ã€€<span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(<span class="string">"ul1"</span>);</span><br><span class="line">ã€€oUl.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</span><br><span class="line">ã€€  <span class="keyword">var</span> ev = ev || <span class="built_in">window</span>.event;</span><br><span class="line">ã€€  <span class="keyword">var</span> target = ev.target || ev.srcElement;</span><br><span class="line">ã€€  <span class="keyword">if</span>(target.nodeName.toLowerCase() == <span class="string">'li'</span>)&#123;</span><br><span class="line">ã€€ã€€  alert(<span class="number">123</span>);</span><br><span class="line">ã€€ã€€  alert(target.innerHTML);</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">ã€€&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æ”¹ä¸‹å°±åªæœ‰ç‚¹å‡» li ä¼šè§¦å‘äº‹ä»¶äº†ï¼Œä¸”æ¯æ¬¡åªæ‰§è¡Œä¸€æ¬¡ dom æ“ä½œï¼Œå¦‚æœ li æ•°é‡å¾ˆå¤šçš„è¯ï¼Œå°†å¤§å¤§å‡å°‘ dom çš„æ“ä½œï¼Œä¼˜åŒ–çš„æ€§èƒ½å¯æƒ³è€ŒçŸ¥ï¼</p>
<p>ä¸Šé¢çš„ä¾‹å­æ˜¯è¯´ li æ“ä½œçš„æ˜¯åŒæ ·çš„æ•ˆæœï¼Œè¦æ˜¯æ¯ä¸ª li è¢«ç‚¹å‡»çš„æ•ˆæœéƒ½ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆç”¨äº‹ä»¶å§”æ‰˜è¿˜æœ‰ç”¨å—ï¼Ÿ</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"add"</span> <span class="attr">value</span>=<span class="string">"æ·»åŠ "</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"remove"</span> <span class="attr">value</span>=<span class="string">"åˆ é™¤"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"move"</span> <span class="attr">value</span>=<span class="string">"ç§»åŠ¨"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"select"</span> <span class="attr">value</span>=<span class="string">"é€‰æ‹©"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> Add = <span class="built_in">document</span>.getElementById(<span class="string">"add"</span>);</span><br><span class="line">  <span class="keyword">var</span> Remove = <span class="built_in">document</span>.getElementById(<span class="string">"remove"</span>);</span><br><span class="line">  <span class="keyword">var</span> Move = <span class="built_in">document</span>.getElementById(<span class="string">"move"</span>);</span><br><span class="line">  <span class="keyword">var</span> Select = <span class="built_in">document</span>.getElementById(<span class="string">"select"</span>);</span><br><span class="line">  </span><br><span class="line">  Add.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      alert(<span class="string">'æ·»åŠ '</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  Remove.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      alert(<span class="string">'åˆ é™¤'</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  Move.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      alert(<span class="string">'ç§»åŠ¨'</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  Select.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      alert(<span class="string">'é€‰æ‹©'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢å®ç°çš„æ•ˆæœæˆ‘å°±ä¸å¤šè¯´äº†ï¼Œå¾ˆç®€å•ï¼Œ4 ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»æ¯ä¸€ä¸ªåšä¸åŒçš„æ“ä½œï¼Œé‚£ä¹ˆè‡³å°‘éœ€è¦ 4 æ¬¡ dom æ“ä½œï¼Œå¦‚æœç”¨äº‹ä»¶å§”æ‰˜ï¼Œèƒ½è¿›è¡Œä¼˜åŒ–å—ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> oBox = <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</span><br><span class="line">  oBox.onclick = <span class="function"><span class="keyword">function</span> (<span class="params">ev</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ev = ev || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="keyword">var</span> target = ev.target || ev.srcElement;</span><br><span class="line">    <span class="keyword">if</span>(target.nodeName.toLocaleLowerCase() == <span class="string">'input'</span>)&#123;</span><br><span class="line">      <span class="keyword">switch</span>(target.id)&#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'add'</span> :</span><br><span class="line">      alert(<span class="string">'æ·»åŠ '</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'remove'</span> :</span><br><span class="line">      alert(<span class="string">'åˆ é™¤'</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'move'</span> :</span><br><span class="line">      alert(<span class="string">'ç§»åŠ¨'</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'select'</span> :</span><br><span class="line">      alert(<span class="string">'é€‰æ‹©'</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”¨äº‹ä»¶å§”æ‰˜å°±å¯ä»¥åªç”¨ä¸€æ¬¡ dom æ“ä½œå°±èƒ½å®Œæˆæ‰€æœ‰çš„æ•ˆæœï¼Œæ¯”ä¸Šé¢çš„æ€§èƒ½è‚¯å®šæ˜¯è¦å¥½ä¸€äº›çš„</p>
<p>ç°åœ¨è®²çš„éƒ½æ˜¯ document åŠ è½½å®Œæˆçš„ç°æœ‰ dom èŠ‚ç‚¹ä¸‹çš„æ“ä½œï¼Œé‚£ä¹ˆå¦‚æœæ˜¯æ–°å¢çš„èŠ‚ç‚¹ï¼Œæ–°å¢çš„èŠ‚ç‚¹ä¼šæœ‰äº‹ä»¶å—ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªæ–°å‘˜å·¥æ¥äº†ï¼Œä»–èƒ½æ”¶åˆ°å¿«é€’å—ï¼Ÿ</p>
<p>çœ‹ä¸€ä¸‹æ­£å¸¸çš„æ·»åŠ èŠ‚ç‚¹çš„æ–¹æ³•ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">"btn"</span> <span class="attr">value</span>=<span class="string">"æ·»åŠ "</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ul1"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>111<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>222<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>333<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>444<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æ˜¯ç§»å…¥ liï¼Œli å˜çº¢ï¼Œç§»å‡º liï¼Œli å˜ç™½ï¼Œè¿™ä¹ˆä¸€ä¸ªæ•ˆæœï¼Œç„¶åç‚¹å‡»æŒ‰é’®ï¼Œå¯ä»¥å‘ ul ä¸­æ·»åŠ ä¸€ä¸ª li å­èŠ‚ç‚¹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> oBtn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line">  <span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(<span class="string">"ul1"</span>);</span><br><span class="line">  <span class="keyword">var</span> aLi = oUl.getElementsByTagName(<span class="string">'li'</span>);</span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">4</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//é¼ æ ‡ç§»å…¥å˜çº¢ï¼Œç§»å‡ºå˜ç™½</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;aLi.length;i++)&#123;</span><br><span class="line">    aLi[i].onmouseover = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.style.background = <span class="string">'red'</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    aLi[i].onmouseout = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.style.background = <span class="string">'#fff'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//æ·»åŠ æ–°èŠ‚ç‚¹</span></span><br><span class="line">  oBtn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    num++;</span><br><span class="line">    <span class="keyword">var</span> oLi = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">    oLi.innerHTML = <span class="number">111</span>\*num;</span><br><span class="line">    oUl.appendChild(oLi);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯ä¸€èˆ¬çš„åšæ³•ï¼Œä½†æ˜¯ä½ ä¼šå‘ç°ï¼Œæ–°å¢çš„ li æ˜¯æ²¡æœ‰äº‹ä»¶çš„ï¼Œè¯´æ˜æ·»åŠ å­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œäº‹ä»¶æ²¡æœ‰ä¸€èµ·æ·»åŠ è¿›å»ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œé‚£æ€ä¹ˆåšå‘¢ï¼Ÿä¸€èˆ¬çš„è§£å†³æ–¹æ¡ˆä¼šæ˜¯è¿™æ ·ï¼Œå°† for å¾ªç¯ç”¨ä¸€ä¸ªå‡½æ•°åŒ…èµ·æ¥ï¼Œå‘½åä¸º mHoverï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> oBtn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line">  <span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(<span class="string">"ul1"</span>);</span><br><span class="line">  <span class="keyword">var</span> aLi = oUl.getElementsByTagName(<span class="string">'li'</span>);</span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">mHover</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//é¼ æ ‡ç§»å…¥å˜çº¢ï¼Œç§»å‡ºå˜ç™½</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;aLi.length;i++)&#123;</span><br><span class="line">    aLi[i].onmouseover = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.style.background = <span class="string">'red'</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    aLi[i].onmouseout = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.style.background = <span class="string">'#fff'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  mHover ();</span><br><span class="line">  <span class="comment">//æ·»åŠ æ–°èŠ‚ç‚¹</span></span><br><span class="line">  oBtn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    num++;</span><br><span class="line">    <span class="keyword">var</span> oLi = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">    oLi.innerHTML = <span class="number">111</span>\*num;</span><br><span class="line">    oUl.appendChild(oLi);</span><br><span class="line">    mHover ();</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è™½ç„¶åŠŸèƒ½å®ç°äº†ï¼Œçœ‹ç€è¿˜æŒºå¥½ï¼Œä½†å®é™…ä¸Šæ— ç–‘æ˜¯åˆå¢åŠ äº†ä¸€ä¸ª dom æ“ä½œï¼Œåœ¨ä¼˜åŒ–æ€§èƒ½æ–¹é¢æ˜¯ä¸å¯å–çš„ï¼Œé‚£ä¹ˆæœ‰äº‹ä»¶å§”æ‰˜çš„æ–¹å¼ï¼Œèƒ½åšåˆ°ä¼˜åŒ–å—ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> oBtn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line">  <span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(<span class="string">"ul1"</span>);</span><br><span class="line">  <span class="keyword">var</span> aLi = oUl.getElementsByTagName(<span class="string">'li'</span>);</span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//äº‹ä»¶å§”æ‰˜ï¼Œæ·»åŠ çš„å­å…ƒç´ ä¹Ÿæœ‰äº‹ä»¶</span></span><br><span class="line">  oUl.onmouseover = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ev = ev || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="keyword">var</span> target = ev.target || ev.srcElement;</span><br><span class="line">    <span class="keyword">if</span>(target.nodeName.toLowerCase() == <span class="string">'li'</span>)&#123;</span><br><span class="line">      target.style.background = <span class="string">"red"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  oUl.onmouseout = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ev = ev || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="keyword">var</span> target = ev.target || ev.srcElement;</span><br><span class="line">    <span class="keyword">if</span>(target.nodeName.toLowerCase() == <span class="string">'li'</span>)&#123;</span><br><span class="line">      target.style.background = <span class="string">"#fff"</span>;</span><br><span class="line">    &#125; </span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//æ·»åŠ æ–°èŠ‚ç‚¹</span></span><br><span class="line">  oBtn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    num++;</span><br><span class="line">    <span class="keyword">var</span> oLi = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">    oLi.innerHTML = <span class="number">111</span>\*num;</span><br><span class="line">    oUl.appendChild(oLi);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çœ‹ï¼Œä¸Šé¢æ˜¯ç”¨äº‹ä»¶å§”æ‰˜çš„æ–¹å¼ï¼Œæ–°æ·»åŠ çš„å­å…ƒç´ æ˜¯å¸¦æœ‰äº‹ä»¶æ•ˆæœçš„ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå½“ç”¨äº‹ä»¶å§”æ‰˜çš„æ—¶å€™ï¼Œæ ¹æœ¬å°±ä¸éœ€è¦å»éå†å…ƒç´ çš„å­èŠ‚ç‚¹ï¼Œåªéœ€è¦ç»™çˆ¶çº§å…ƒç´ æ·»åŠ äº‹ä»¶å°±å¥½äº†ï¼Œå…¶ä»–çš„éƒ½æ˜¯åœ¨ js é‡Œé¢çš„æ‰§è¡Œï¼Œè¿™æ ·å¯ä»¥å¤§å¤§çš„å‡å°‘ dom æ“ä½œï¼Œè¿™æ‰æ˜¯äº‹ä»¶å§”æ‰˜çš„ç²¾é«“æ‰€åœ¨ã€‚</p>
<hr>
<p>åœ¨è¿™é‡Œå…ˆæ„Ÿè°¢ä¸€ä¸‹@è‹èŒ«å¤§åœ° NV çš„æé—®ï¼Œæçš„é—®é¢˜éå¸¸å¥½ï¼ğŸ‘ğŸ‘ğŸ‘</p>
<p>ä»–çš„é—®é¢˜æ˜¯ï¼š</p>
<p>ç°åœ¨ç»™ä¸€ä¸ªåœºæ™¯ ul &gt; li &gt; div &gt; pï¼Œdiv å æ»¡ liï¼Œp å   æ»¡ divï¼Œè¿˜æ˜¯ç»™ ul ç»‘å®šæ—¶é—´ï¼Œéœ€è¦åˆ¤æ–­ç‚¹å‡»çš„æ˜¯ä¸æ˜¯ liï¼ˆå‡è®¾ li é‡Œé¢çš„ç»“æ„æ˜¯ä¸å›ºå®šçš„ï¼‰ï¼Œé‚£ä¹ˆ e.target å°±å¯èƒ½æ˜¯ pï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ divï¼Œè¿™ç§æƒ…å†µä½ ä¼šæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p>
<p>é‚£æˆ‘ä»¬ç°åœ¨å°±å†ç°ä¸€ä¸‹ä»–ç»™çš„åœºæ™¯</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>11111111111<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">   22222222</span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>3333333333<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>4444444<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šåˆ—è¡¨ï¼Œæœ‰ 4 ä¸ª liï¼Œé‡Œé¢çš„å†…å®¹å„ä¸ç›¸åŒï¼Œç‚¹å‡» liï¼Œevent å¯¹è±¡è‚¯å®šæ˜¯å½“å‰ç‚¹å‡»çš„å¯¹è±¡ï¼Œæ€ä¹ˆæŒ‡å®šåˆ° li ä¸Šï¼Œä¸‹é¢æˆ‘ç›´æ¥ç»™è§£å†³æ–¹æ¡ˆï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(<span class="string">'test'</span>);</span><br><span class="line">oUl.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> target = ev.target;</span><br><span class="line">  <span class="keyword">while</span>(target !== oUl )&#123;</span><br><span class="line">    <span class="keyword">if</span>(target.tagName.toLowerCase() == <span class="string">'li'</span>)&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'li click~'</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    target = target.parentNode;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>æ ¸å¿ƒä»£ç æ˜¯<code>while</code>å¾ªç¯éƒ¨åˆ†ï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ª<strong>é€’å½’è°ƒç”¨</strong>ï¼Œä½ ä¹Ÿå¯ä»¥å†™æˆä¸€ä¸ªå‡½æ•°ï¼Œç”¨é€’å½’çš„æ–¹æ³•æ¥è°ƒç”¨ï¼Œ<strong>åŒæ—¶</strong>ç”¨åˆ°<strong>å†’æ³¡</strong>çš„åŸç†ï¼Œä»é‡Œå¾€å¤–å†’æ³¡ï¼ŒçŸ¥é“<code>currentTarget</code>ä¸ºæ­¢ï¼Œå½“å½“å‰çš„<code>target</code>æ˜¯<code>li</code>çš„æ—¶å€™ï¼Œå°±å¯ä»¥æ‰§è¡Œå¯¹åº”çš„äº‹ä»¶äº†ï¼Œç„¶åç»ˆæ­¢å¾ªç¯ï¼Œæ©ï¼Œæ²¡æ¯›ç—…ï¼</p>
<p>è¿™é‡Œçœ‹ä¸åˆ°æ•ˆæœï¼Œå¤§å®¶å¯ä»¥å¤åˆ¶è¿‡å»è¿è¡Œä¸€ä¸‹ï¼</p>
<hr>
<h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h3><p>é‚£ä»€ä¹ˆæ ·çš„äº‹ä»¶å¯ä»¥ç”¨äº‹ä»¶å§”æ‰˜ï¼Œä»€ä¹ˆæ ·çš„äº‹ä»¶ä¸å¯ä»¥ç”¨å‘¢ï¼Ÿ</p>
<p>é€‚åˆç”¨äº‹ä»¶å§”æ‰˜çš„äº‹ä»¶ï¼š<code>click</code>ï¼Œ<code>mousedown</code>ï¼Œ<code>mouseup</code>ï¼Œ<code>keydown</code>ï¼Œ<code>keyup</code>ï¼Œ<code>keypress</code>ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>mouseover</code>å’Œ<code>mouseout</code>è™½ç„¶ä¹Ÿæœ‰äº‹ä»¶å†’æ³¡ï¼Œä½†æ˜¯å¤„ç†å®ƒä»¬çš„æ—¶å€™éœ€è¦ç‰¹åˆ«çš„æ³¨æ„ï¼Œå› ä¸ºéœ€è¦ç»å¸¸è®¡ç®—å®ƒä»¬çš„ä½ç½®ï¼Œå¤„ç†èµ·æ¥ä¸å¤ªå®¹æ˜“ã€‚</p>
<p>ä¸é€‚åˆçš„å°±æœ‰å¾ˆå¤šäº†ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œ<code>mousemove</code>ï¼Œæ¯æ¬¡éƒ½è¦è®¡ç®—å®ƒçš„ä½ç½®ï¼Œéå¸¸ä¸å¥½æŠŠæ§ï¼Œåœ¨ä¸å¦‚è¯´<code>focus</code>ï¼Œ<code>blur</code>ä¹‹ç±»çš„ï¼Œæœ¬èº«å°±æ²¡ç”¨å†’æ³¡çš„ç‰¹æ€§ï¼Œè‡ªç„¶å°±ä¸èƒ½ç”¨äº‹ä»¶å§”æ‰˜äº†ã€‚</p>
<p>å¥½äº†ï¼Œä»Šå¤©å°±åˆ°è¿™é‡Œï¼Œä¸‹æ¬¡æˆ‘æƒ³ä»‹ç»ä¸€ä¸‹äº‹ä»¶ç»‘å®šï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨å’Œé˜…è¯»ï¼Œä»¥ä¸Šçº¯å±ä¸ªäººè§è§£ï¼Œå¦‚æœ‰ä¸å¯¹çš„åœ°æ–¹ï¼Œä¸‡æœ›æŒ‡æ­£ï¼Œä¸èƒœæ„Ÿè°¢ï¼</p>
<hr>
<p>I will definitely need to read this article repeatedly many timesâ€¦or maybe not, too many redundant explainations above.</p>
<h3 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h3><p>We can use <code>Element.matches()</code> to check if we click the target element.</p>
<p><strong>Usage</strong><br><code>let result = element.matches(selectorString);</code></p>
<ul>
<li>result: true / false.</li>
<li>selectorString: css selector string.</li>
</ul>
<p><strong>e.g.</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>What is Event Delegation?<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">  A way you can add an event listener once for multiple elements with support for adding extra children.</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"myList"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Apple<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Banana<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Kiwi<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> myList = <span class="built_in">document</span>.querySelector(<span class="string">"#myList"</span>)</span></span><br><span class="line"><span class="actionscript">  myList.addEventListener(<span class="string">'click'</span>, (e) =&gt; &#123;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//It can be written as if(e.target.textContent === 'Kiwi') then add eventListener to this chosen element</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">if</span> (e.target.matches(<span class="string">'li'</span>)) &#123;</span></span><br><span class="line"><span class="actionscript">      e.target.style.background = <span class="string">'red'</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> newLi = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>)</span></span><br><span class="line"><span class="actionscript">  newLi.textContent = <span class="string">"Lichi"</span></span></span><br><span class="line">  myList.appendChild(newLi)</span><br><span class="line"><span class="actionscript"><span class="comment">//Now the new created li will be dynamically added the same event listener due to delegation.</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/JS/" rel="tag"># JS</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/03/05/Rollover-Sprite/" rel="prev" title="Rollover & Sprite">
      <i class="fa fa-chevron-left"></i> Rollover & Sprite
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/03/07/%E4%BD%9B%E6%9B%B0%EF%BC%9A%E4%B8%8D%E5%8F%AF%E8%AF%B4/" rel="next" title="ä½›æ›°ï¼šä¸å¯è¯´">
      ä½›æ›°ï¼šä¸å¯è¯´ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¦‚è¿°ï¼š"><span class="nav-number">1.</span> <span class="nav-text">æ¦‚è¿°ï¼š</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¸ºä»€ä¹ˆè¦ç”¨äº‹ä»¶å§”æ‰˜ï¼š"><span class="nav-number">1.1.</span> <span class="nav-text">ä¸ºä»€ä¹ˆè¦ç”¨äº‹ä»¶å§”æ‰˜ï¼š</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#äº‹ä»¶å§”æ‰˜çš„åŸç†ï¼š"><span class="nav-number">1.2.</span> <span class="nav-text">äº‹ä»¶å§”æ‰˜çš„åŸç†ï¼š</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#äº‹ä»¶å†’æ³¡åŠæ•è·"><span class="nav-number">1.3.</span> <span class="nav-text">äº‹ä»¶å†’æ³¡åŠæ•è·:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#äº‹ä»¶å§”æ‰˜æ€ä¹ˆå®ç°ï¼š"><span class="nav-number">1.4.</span> <span class="nav-text">äº‹ä»¶å§”æ‰˜æ€ä¹ˆå®ç°ï¼š</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Notes"><span class="nav-number">2.</span> <span class="nav-text">Notes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ€»ç»“ï¼š"><span class="nav-number">3.</span> <span class="nav-text">æ€»ç»“ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Update"><span class="nav-number">4.</span> <span class="nav-text">Update</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Shan Mi"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Shan Mi</p>
  <div class="site-description" itemprop="description">You will never know</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">34</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Shan-Mi" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Shan-Mi" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:shan.mi.fanfan@gmail.com" title="E-Mail â†’ mailto:shan.mi.fanfan@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Shan Mi</span>
</div>

  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>



        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://shanmi.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "http://yoursite.com/2020/03/07/JavaScript-Delgation/";
    this.page.identifier = "2020/03/07/JavaScript-Delgation/";
    this.page.title = "JavaScript Delegation";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://shanmi.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
